### DOM事件和event loop
```
/* 异步 */
console.log('Hi')

setTimeout(function cb1() {
  console.log('cb1') // cb1 即 callback
}, 5000)

console.log('Bye')

/* DOM事件 */
<button id='btn1'>提交</button>
<script>
  console.log('Hi')
  
  $('btn1').click(function(e) {
    console.log('button clicked')
  })
  
  console.log('Bye')
</script>
```
注意： 只要该浏览器页面不关闭， 5s后 cb1才能被执行。 这个DOM事件，是只有点击了这个事件按钮，才会执行该响应的功能。
其实DOM事件和异步二者本质都是回调，区别是触发的时机是不一样的。为了让我们更清晰的理解DOM事件与event loop的关系，下面
我给了一张图

<img src='https://github.com/Bruce-shuai/Books/blob/main/JS基础/异步/photos/Event%20loop%20-%2012.png' height='200px' />

执行到click事件的时候，回调会放在Web APIs里。 什么时候点击了button按钮，什么时候这个回调就会放在callback queue里，
其他步骤，和我上一篇文章的event loop运行步骤是一模一样的

### DOM事件和event loop的总结
 - JS是单线程的
 - 异步(setTimeout, ajax等)使用回调，基于event loop
 - DOM事件也使用回调，基于event loop

DOM事件是不算异步的，只是DOM事件和异步都是基于event loop来实现的，但两者的触发时机是不一样的，并且二者的触发时机都是
浏览器来控制的


## 细谈Promise
### Promise的重点
 - 三种状态
 - 状态的表现和变化
 - then和catch对状态的变化

### 三种状态
 - pending resolved rejected
 - pending --> resolved或pending --> rejected
 - 变化不可逆

```
pending 指目前状态为 在过程中，还没有结果
resolved 指解决了当前问题，已成功
rejected 指拒绝了问题，失败了
```

下面通过代码来详细讲讲这三种状态
```
执行下面代码
const p1 = new Promise((resolve, reject) => {

})
console.log('p1', p1);    
```
<img src='https://github.com/Bruce-shuai/Books/blob/main/JS基础/异步/photos/Promise%20-%201.png' height='100px'/>


